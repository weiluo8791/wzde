<?php/*******************************************************************************transfer File via ftps1.0 10/2013*******************************************************************************/define("FTPUSER","ratservice");define("FTPPASS","R0VPREU=");//in	:|0=operation(delete or upload) |1=server |2=source |3=target//return:FALSE=error TRUE=successfullyfunction ftpsOperation($ops,$server,$source,$target) {	//init var	$ftp_server = $server;	$ch = curl_init();		//connection port	curl_setopt($ch, CURLOPT_PORT, 21);	curl_setopt($ch, CURLOPT_VERBOSE, FALSE); 		//SSL stuff	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, TRUE);	curl_setopt($ch, CURLOPT_FTP_SSL, CURLOPT_FTPSSLAUTH);	curl_setopt($ch, CURLOPT_USERPWD, FTPUSER . ":" . base64_decode(FTPPASS));	curl_setopt($ch, CURLOPT_SSLVERSION, 3);	//end SSL		//ftp operation	switch ($ops) {	case 'check' :		curl_setopt($ch, CURLOPT_NOBODY, true);		curl_setopt($ch, CURLOPT_URL, $ftp_server);		curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);		curl_setopt($ch, CURLOPT_QUOTE, array('SIZE ' . $target));		break;	case 'delete' :		curl_setopt($ch, CURLOPT_URL, $ftp_server);		curl_setopt($ch, CURLOPT_RETURNTRANSFER, TRUE);		curl_setopt($ch, CURLOPT_QUOTE, array('DELE ' . $target));		break;	case 'upload' :		$remote_file = $target;		$file = $source;		$fp = fopen($file, 'r');		curl_setopt($ch, CURLOPT_URL, $ftp_server.$remote_file);		curl_setopt($ch, CURLOPT_UPLOAD, TRUE);		curl_setopt($ch, CURLOPT_INFILE, $fp);		curl_setopt($ch, CURLOPT_FTP_CREATE_MISSING_DIRS, TRUE);		curl_setopt($ch, CURLOPT_INFILESIZE, filesize($file));		break;	default :		curl_close ($ch);		return FALSE;	}		//Execute cURL	curl_exec ($ch);			$error_no = curl_errno($ch);	$error_msg = curl_error($ch);		if($ops == 'check') {		$info = curl_getinfo($ch, CURLINFO_HTTP_CODE);	}		//close curl and handle;	curl_close ($ch);	if($ops == 'upload') {		fclose($fp);	}			if ($error_no == 0) {		$error = 'successfully';		return TRUE;	} else {		$error = 'error';		return FALSE;	}}?>